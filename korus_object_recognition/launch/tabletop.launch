<launch>

  <arg name="debug" default="false" />
  <arg unless="$(arg debug)" name="launch_prefix" value="" />
  <arg     if="$(arg debug)" name="launch_prefix" value="gdb --ex run --args" />

  <node name="recognize_tabletop_objects_server" launch-prefix="$(arg launch_prefix)" pkg="object_recognition_ros" type="server" respawn="false" output="screen" args="--node_name tabletop_object_recognition -c $(find korus_object_recognition)/conf/tabletop/detection.object.ros.ork">
<!--     <remap from="/camera/rgb/camera_info" to="/head_mount_kinect/rgb/camera_info"/> -->
<!--     <remap from="/camera/rgb/image_rect_color" to="/head_mount_kinect/rgb/image_rect_color"/> -->
<!--     <remap from="/camera/rgb/image_color" to="/head_mount_kinect/rgb/image_color"/> -->
<!--     <remap from="/camera/depth_registered/camera_info" to="/head_mount_kinect/depth_registered/camera_info"/> -->
    <remap from="/camera/depth_registered/image_rect" to="/camera/depth_registered/image_rect_raw"/>
    <remap from="/camera/depth_registered/image" to="/camera/depth_registered/image_raw"/>
  </node>
  
  <param name="tabletop_object_recognition/robot_frame"       value="/base_footprint"/>
  <param name="tabletop_object_recognition/sensor_frame"      value="/sensor_3d_link"/>
  <param name="tabletop_object_recognition/filter_planes"     value="false"/>
  <param name="tabletop_object_recognition/min_table_height"  value="0.0"/>
  <param name="tabletop_object_recognition/max_table_height"  value="1.0"/>
  <param name="tabletop_object_recognition/max_angle_diff"    value="0.1"/>
  <param name="tabletop_object_recognition/table_normal_x"    value="0"/>
  <param name="tabletop_object_recognition/table_normal_y"    value="0"/>
  <param name="tabletop_object_recognition/table_normal_z"    value="1"/>
</launch>
