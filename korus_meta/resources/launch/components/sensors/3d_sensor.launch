<!--
  For Korus's 3D sensor; it launches:
   - openni driver
   - pointcloud throttle (to reduce CPU load)
  The "exotic" namespaces are imposed by the particular arrangements on openni launch files.
 -->

<launch>
  <!-- Load standard constellation of processing nodelets -->
  <include file="$(find openni_launch)/launch/openni.launch">
    <arg name="camera"                          value="sensor_3d"/>
    <arg name="num_worker_threads"              value="4"/>
    <arg name="publish_tf"                      value="false"/>
    <arg name="rgb_processing"                  value="true"/>
    <arg name="ir_processing"                   value="true"/>
    <arg name="depth_processing"                value="true"/>
    <arg name="depth_registered_processing"     value="true"/>
    <arg name="depth_registration"                value="true"/>
    <arg name="disparity_processing"            value="false"/>
    <arg name="disparity_registered_processing" value="false"/>
  </include>


  <!--  ************ Point cloud throttling ********  -->
<!--   <node pkg="nodelet" type="nodelet" name="pointcloud_throttle" -->
<!--         args="load pointcloud_to_laserscan/CloudThrottle sensor_3d_nodelet_manager" respawn="false"> -->
<!--     <param name="max_rate" value="5.0"/> -->
<!--     <remap from="cloud_in"  to="sensor_3d/depth/points"/> -->
<!--     <remap from="cloud_out" to="pointcloud"/> -->
<!--   </node> -->
</launch>