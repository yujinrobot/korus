<!--
  One (controller) for all (joints)!
-->

<launch>
  <node pkg="nodelet" type="nodelet" name="whole_body_controller" args="load ycs_joint_trajectory_controller/JointTrajectoryControllerNodelet robot_core">
    <rosparam file="$(find korus_meta)/resources/yaml/controllers/korus_v3_whole_body_controller.yaml" command="load" />
    <!-- param remaps -->
    <remap from="whole_body_controller/joint_names" to = "mechanism_model/joint_groups/all"/>
    <remap from="whole_body_controller/joints" to = "mechanism_model/joints"/>
    <!-- topic remaps -->
    <!-- Base -->
    <remap from="whole_body_controller/joint_command/base_x" to="joint_command/base_x"/>
    <remap from="whole_body_controller/joint_state/base_x" to="joint_state/base_x"/>
    <remap from="whole_body_controller/joint_command/base_y" to="joint_command/base_y"/>
    <remap from="whole_body_controller/joint_state/base_y" to="joint_state/base_y"/>
    <remap from="whole_body_controller/joint_command/base_theta" to="joint_command/base_theta"/>
    <remap from="whole_body_controller/joint_state/base_theta" to="joint_state/base_theta"/>
    <!-- Torso -->
    <remap from="whole_body_controller/joint_command/torso_turn" to="joint_command/torso_turn"/>
    <remap from="whole_body_controller/joint_state/torso_turn" to="joint_state/torso_turn"/>
    <remap from="whole_body_controller/joint_command/torso_lift" to="joint_command/torso_lift"/>
    <remap from="whole_body_controller/joint_state/torso_lift" to="joint_state/torso_lift"/>
    <!-- Arm -->
    <remap from="whole_body_controller/joint_command/shoulder" to="joint_command/shoulder"/>
    <remap from="whole_body_controller/joint_state/shoulder" to="joint_state/shoulder"/>
    <remap from="whole_body_controller/joint_command/elbow" to="joint_command/elbow"/>
    <remap from="whole_body_controller/joint_state/elbow" to="joint_state/elbow"/>
    <remap from="whole_body_controller/joint_command/wrist" to="joint_command/wrist"/>
    <remap from="whole_body_controller/joint_state/wrist" to="joint_state/wrist"/>
    <remap from="whole_body_controller/joint_command/gripper" to="joint_command/gripper"/>
    <remap from="whole_body_controller/joint_state/gripper" to="joint_state/gripper"/>
    <!-- Head -->
    <remap from="whole_body_controller/joint_command/head_pan" to="joint_command/head_pan"/>
    <remap from="whole_body_controller/joint_state/head_pan" to="joint_state/head_pan"/>
    <remap from="whole_body_controller/joint_command/head_tilt" to="joint_command/head_tilt"/>
    <remap from="whole_body_controller/joint_state/head_tilt" to="joint_state/head_tilt"/>
  </node>
</launch>
